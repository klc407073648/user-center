<template>    <div id="teamPage">        <van-search v-model="searchText" @search="onSearch" placeholder="搜索队伍" />        <van-tabs v-model:active="active" @change="onTabChange">            <van-tab title="公开" name="public"/>            <van-tab title="加密" name="secret"/>        </van-tabs>        <van-button class="add-button" type="primary" icon="plus" @click="toAddTeam"/>        <team-card-list :teamList="teamList" />        <van-empty v-if="teamList?.length <1" description="数据为空"/>    </div></template><script setup lang="ts">    import {useRouter} from "vue-router";    import {onMounted, ref} from 'vue';    import myAxios from "../plugins/myAxios";    import {Toast} from "vant";    import TeamCardList from "../components/TeamCardList.vue"    const router = useRouter();    //跳转到加入队伍列    const toAddTeam = () => {        router.push({            path: "/team/add"        })    }    const searchText = ref('')    const active = ref('public')    const onSearch = (val) => {        listTeam(val)    }    /**     *     */    const onTabChange = (name) =>{        //查公开        if(name === 'public'){            listTeam(searchText.value,0);        }        else if( name === 'secret'){            //查加密            listTeam(searchText.value,2);        }    }    const myJoinTeamList = ref([]);    /**     * 搜索我加入的队伍     * @param val     */    const listMyJoinTeam = async (val = '') =>{        const res = await myAxios.get('/team/list/my/join',{            params:{                searchText:val            }        });        if(res?.code === 0){            myJoinTeamList.value = res.data;        }        else{            Toast.fail('加载队伍失败，请刷新重试')        }    }    const listTeam = async (val = '',status = 0) =>{        const res = await myAxios.get('/team/list',{            params:{                searchText:val,                status            }        });        if(res?.code === 0){            teamList.value = res.data;        }        else{            Toast.fail('加载队伍失败，请刷新重试')        }    }    const teamList = ref([]);    //只会在页面加载时，触发一次    onMounted(async () => {        listTeam('');    })</script><style scoped>    #teamPage {    }</style>